{"numTotalTestSuites":21,"numPassedTestSuites":21,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":69,"numPassedTests":68,"numFailedTests":0,"numPendingTests":1,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1767225378649,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["MetricsCache","Basic Operations"],"fullName":"MetricsCache Basic Operations should store and retrieve values","status":"passed","title":"should store and retrieve values","duration":1.1520000000000437,"failureMessages":[],"location":{"line":14,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Basic Operations"],"fullName":"MetricsCache Basic Operations should return undefined for non-existent keys","status":"passed","title":"should return undefined for non-existent keys","duration":0.26340000000004693,"failureMessages":[],"location":{"line":19,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Basic Operations"],"fullName":"MetricsCache Basic Operations should delete values","status":"passed","title":"should delete values","duration":0.3288000000000011,"failureMessages":[],"location":{"line":23,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Basic Operations"],"fullName":"MetricsCache Basic Operations should check if key exists","status":"passed","title":"should check if key exists","duration":0.18509999999992033,"failureMessages":[],"location":{"line":29,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Basic Operations"],"fullName":"MetricsCache Basic Operations should clear all entries","status":"passed","title":"should clear all entries","duration":0.22059999999999036,"failureMessages":[],"location":{"line":35,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Basic Operations"],"fullName":"MetricsCache Basic Operations should return cache size","status":"passed","title":"should return cache size","duration":0.1268999999999778,"failureMessages":[],"location":{"line":42,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","TTL Expiration"],"fullName":"MetricsCache TTL Expiration should expire entries after TTL","status":"passed","title":"should expire entries after TTL","duration":151.59540000000004,"failureMessages":[],"location":{"line":50,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","TTL Expiration"],"fullName":"MetricsCache TTL Expiration should use default TTL","status":"passed","title":"should use default TTL","duration":151.01929999999993,"failureMessages":[],"location":{"line":60,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","TTL Expiration"],"fullName":"MetricsCache TTL Expiration should remove expired entries on has check","status":"passed","title":"should remove expired entries on has check","duration":150.41769999999997,"failureMessages":[],"location":{"line":71,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","TTL Expiration"],"fullName":"MetricsCache TTL Expiration should clean expired entries on size calculation","status":"passed","title":"should clean expired entries on size calculation","duration":150.41689999999994,"failureMessages":[],"location":{"line":81,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should track cache hits","status":"passed","title":"should track cache hits","duration":0.56899999999996,"failureMessages":[],"location":{"line":94,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should track cache misses","status":"passed","title":"should track cache misses","duration":0.1449000000000069,"failureMessages":[],"location":{"line":103,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should track cache sets","status":"passed","title":"should track cache sets","duration":0.1149000000000342,"failureMessages":[],"location":{"line":111,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should track cache deletes","status":"passed","title":"should track cache deletes","duration":0.27470000000016626,"failureMessages":[],"location":{"line":119,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should track deletes on clear","status":"passed","title":"should track deletes on clear","duration":0.14419999999995525,"failureMessages":[],"location":{"line":127,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should calculate cache hit rate","status":"passed","title":"should calculate cache hit rate","duration":0.22270000000003165,"failureMessages":[],"location":{"line":137,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Metrics Tracking"],"fullName":"MetricsCache Metrics Tracking should track misses for expired entries","status":"passed","title":"should track misses for expired entries","duration":150.7349999999999,"failureMessages":[],"location":{"line":147,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Data Types"],"fullName":"MetricsCache Data Types should handle strings","status":"passed","title":"should handle strings","duration":0.20090000000004693,"failureMessages":[],"location":{"line":161,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Data Types"],"fullName":"MetricsCache Data Types should handle numbers","status":"passed","title":"should handle numbers","duration":0.1390000000001237,"failureMessages":[],"location":{"line":166,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Data Types"],"fullName":"MetricsCache Data Types should handle objects","status":"passed","title":"should handle objects","duration":0.7527000000000044,"failureMessages":[],"location":{"line":171,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Data Types"],"fullName":"MetricsCache Data Types should handle arrays","status":"passed","title":"should handle arrays","duration":0.25850000000014006,"failureMessages":[],"location":{"line":177,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Data Types"],"fullName":"MetricsCache Data Types should handle null and undefined","status":"passed","title":"should handle null and undefined","duration":0.19069999999987886,"failureMessages":[],"location":{"line":183,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Edge Cases"],"fullName":"MetricsCache Edge Cases should handle rapid set/get operations","status":"passed","title":"should handle rapid set/get operations","duration":2.529600000000073,"failureMessages":[],"location":{"line":192,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Edge Cases"],"fullName":"MetricsCache Edge Cases should overwrite existing keys","status":"passed","title":"should overwrite existing keys","duration":0.1635999999998603,"failureMessages":[],"location":{"line":204,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Edge Cases"],"fullName":"MetricsCache Edge Cases should handle very short TTL","status":"passed","title":"should handle very short TTL","duration":21.929299999999785,"failureMessages":[],"location":{"line":211,"column":5},"meta":{}},{"ancestorTitles":["MetricsCache","Edge Cases"],"fullName":"MetricsCache Edge Cases should handle very long TTL","status":"passed","title":"should handle very long TTL","duration":0.1552999999998974,"failureMessages":[],"location":{"line":221,"column":5},"meta":{}}],"startTime":1767225380148,"endTime":1767225380933.1553,"status":"passed","message":"","name":"C:/Users/Preston/git/toa-website/test/metrics-cache.test.ts"},{"assertionResults":[{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should track successful API calls","status":"passed","title":"should track successful API calls","duration":22.363799999999856,"failureMessages":[],"location":{"line":29,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should track error rates - SKIPPED: test isolation issue with async middleware","status":"skipped","title":"should track error rates - SKIPPED: test isolation issue with async middleware","failureMessages":[],"location":{"line":41,"column":10},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should calculate latency percentiles","status":"passed","title":"should calculate latency percentiles","duration":37.46129999999994,"failureMessages":[],"location":{"line":68,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should track requests per second","status":"passed","title":"should track requests per second","duration":8.586299999999937,"failureMessages":[],"location":{"line":85,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should track cache hit rate","status":"passed","title":"should track cache hit rate","duration":0.5940000000000509,"failureMessages":[],"location":{"line":94,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should track error types","status":"passed","title":"should track error types","duration":0.35950000000002547,"failureMessages":[],"location":{"line":106,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Collection"],"fullName":"Monitoring & Metrics Metrics Collection should track uptime","status":"passed","title":"should track uptime","duration":101.20370000000003,"failureMessages":[],"location":{"line":117,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Endpoint"],"fullName":"Monitoring & Metrics Metrics Endpoint should return metrics in JSON format","status":"passed","title":"should return metrics in JSON format","duration":6.54950000000008,"failureMessages":[],"location":{"line":127,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Endpoint"],"fullName":"Monitoring & Metrics Metrics Endpoint should show cache metrics","status":"passed","title":"should show cache metrics","duration":2.8954999999998563,"failureMessages":[],"location":{"line":140,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Performance Tracking"],"fullName":"Monitoring & Metrics Performance Tracking should limit stored latency samples to 1000 per endpoint","status":"passed","title":"should limit stored latency samples to 1000 per endpoint","duration":2935.3120999999996,"failureMessages":[],"location":{"line":155,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Performance Tracking"],"fullName":"Monitoring & Metrics Performance Tracking should handle concurrent requests","status":"passed","title":"should handle concurrent requests","duration":32.95039999999972,"failureMessages":[],"location":{"line":167,"column":5},"meta":{}},{"ancestorTitles":["Monitoring & Metrics","Metrics Reset"],"fullName":"Monitoring & Metrics Metrics Reset should reset all metrics","status":"passed","title":"should reset all metrics","duration":6.718700000000354,"failureMessages":[],"location":{"line":180,"column":5},"meta":{}}],"startTime":1767225380421,"endTime":1767225383576.7188,"status":"passed","message":"","name":"C:/Users/Preston/git/toa-website/test/monitoring.test.ts"},{"assertionResults":[{"ancestorTitles":["API Routes","GET /api/youtube/playlist/:playlistId"],"fullName":"API Routes GET /api/youtube/playlist/:playlistId should return playlist videos with valid playlist ID","status":"passed","title":"should return playlist videos with valid playlist ID","duration":19.49499999999989,"failureMessages":[],"location":{"line":69,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/youtube/playlist/:playlistId"],"fullName":"API Routes GET /api/youtube/playlist/:playlistId should reject invalid playlist ID format","status":"passed","title":"should reject invalid playlist ID format","duration":6.900200000000041,"failureMessages":[],"location":{"line":79,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/youtube/playlist/:playlistId"],"fullName":"API Routes GET /api/youtube/playlist/:playlistId should validate maxResults parameter","status":"passed","title":"should validate maxResults parameter","duration":4.498800000000074,"failureMessages":[],"location":{"line":88,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/youtube/playlist/:playlistId"],"fullName":"API Routes GET /api/youtube/playlist/:playlistId should accept valid maxResults parameter","status":"passed","title":"should accept valid maxResults parameter","duration":3.746499999999969,"failureMessages":[],"location":{"line":96,"column":5},"meta":{}},{"ancestorTitles":["API Routes","POST /api/podcast/feed"],"fullName":"API Routes POST /api/podcast/feed should return podcast episodes with valid feed URL","status":"passed","title":"should return podcast episodes with valid feed URL","duration":16.02859999999987,"failureMessages":[],"location":{"line":104,"column":5},"meta":{}},{"ancestorTitles":["API Routes","POST /api/podcast/feed"],"fullName":"API Routes POST /api/podcast/feed should reject missing feedUrl","status":"passed","title":"should reject missing feedUrl","duration":5.172400000000152,"failureMessages":[],"location":{"line":114,"column":5},"meta":{}},{"ancestorTitles":["API Routes","POST /api/podcast/feed"],"fullName":"API Routes POST /api/podcast/feed should reject localhost URLs (SSRF protection)","status":"passed","title":"should reject localhost URLs (SSRF protection)","duration":4.937400000000025,"failureMessages":[],"location":{"line":123,"column":5},"meta":{}},{"ancestorTitles":["API Routes","POST /api/podcast/feed"],"fullName":"API Routes POST /api/podcast/feed should reject private IP addresses (SSRF protection)","status":"passed","title":"should reject private IP addresses (SSRF protection)","duration":3.8999999999998636,"failureMessages":[],"location":{"line":132,"column":5},"meta":{}},{"ancestorTitles":["API Routes","POST /api/podcast/feed"],"fullName":"API Routes POST /api/podcast/feed should validate limit parameter","status":"passed","title":"should validate limit parameter","duration":4.093700000000126,"failureMessages":[],"location":{"line":141,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/podcast/audio-proxy"],"fullName":"API Routes GET /api/podcast/audio-proxy should reject missing URL parameter","status":"passed","title":"should reject missing URL parameter","duration":4.264300000000048,"failureMessages":[],"location":{"line":152,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/podcast/audio-proxy"],"fullName":"API Routes GET /api/podcast/audio-proxy should reject unauthorized domains","status":"passed","title":"should reject unauthorized domains","duration":3.802699999999959,"failureMessages":[],"location":{"line":160,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/podcast/audio-proxy"],"fullName":"API Routes GET /api/podcast/audio-proxy should reject localhost URLs","status":"passed","title":"should reject localhost URLs","duration":3.7621999999998934,"failureMessages":[],"location":{"line":168,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/etsy/shop/:shopId/listings"],"fullName":"API Routes GET /api/etsy/shop/:shopId/listings should return shop listings with valid shop ID","status":"passed","title":"should return shop listings with valid shop ID","duration":3.3623999999999796,"failureMessages":[],"location":{"line":178,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/etsy/shop/:shopId/listings"],"fullName":"API Routes GET /api/etsy/shop/:shopId/listings should reject invalid shop ID format","status":"passed","title":"should reject invalid shop ID format","duration":4.4560999999998785,"failureMessages":[],"location":{"line":186,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/etsy/shop/:shopId/listings"],"fullName":"API Routes GET /api/etsy/shop/:shopId/listings should validate limit parameter","status":"passed","title":"should validate limit parameter","duration":3.241999999999962,"failureMessages":[],"location":{"line":194,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/dndbeyond/character/:characterId"],"fullName":"API Routes GET /api/dndbeyond/character/:characterId should return character data with valid character ID","status":"passed","title":"should return character data with valid character ID","duration":3.1784000000000106,"failureMessages":[],"location":{"line":204,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/dndbeyond/character/:characterId"],"fullName":"API Routes GET /api/dndbeyond/character/:characterId should reject invalid character ID format","status":"passed","title":"should reject invalid character ID format","duration":3.35570000000007,"failureMessages":[],"location":{"line":214,"column":5},"meta":{}},{"ancestorTitles":["API Routes","GET /api/dndbeyond/character/:characterId"],"fullName":"API Routes GET /api/dndbeyond/character/:characterId should reject non-numeric character IDs","status":"passed","title":"should reject non-numeric character IDs","duration":4.111100000000079,"failureMessages":[],"location":{"line":222,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle API errors gracefully","status":"passed","title":"should handle API errors gracefully","duration":5.148300000000063,"failureMessages":[],"location":{"line":232,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should not leak internal error details in production","status":"passed","title":"should not leak internal error details in production","duration":4.081900000000132,"failureMessages":[],"location":{"line":244,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should log errors without exposing sensitive data","status":"passed","title":"should log errors without exposing sensitive data","duration":4.035499999999956,"failureMessages":[],"location":{"line":265,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should return 400 for malformed JSON in request body","status":"passed","title":"should return 400 for malformed JSON in request body","duration":4.087300000000141,"failureMessages":[],"location":{"line":284,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle missing required fields in POST requests","status":"passed","title":"should handle missing required fields in POST requests","duration":3.11850000000004,"failureMessages":[],"location":{"line":295,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should validate content-type for POST requests","status":"passed","title":"should validate content-type for POST requests","duration":2.7916000000000167,"failureMessages":[],"location":{"line":305,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle very long URLs gracefully","status":"passed","title":"should handle very long URLs gracefully","duration":3.3230000000000928,"failureMessages":[],"location":{"line":315,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle special characters in parameters safely","status":"passed","title":"should handle special characters in parameters safely","duration":3.2679999999998017,"failureMessages":[],"location":{"line":326,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle null bytes in input","status":"passed","title":"should handle null bytes in input","duration":2.8577999999999975,"failureMessages":[],"location":{"line":335,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should rate limit excessive requests (if implemented)","status":"passed","title":"should rate limit excessive requests (if implemented)","duration":23.013599999999997,"failureMessages":[],"location":{"line":343,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle concurrent requests to same resource","status":"passed","title":"should handle concurrent requests to same resource","duration":13.018199999999979,"failureMessages":[],"location":{"line":356,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should set appropriate security headers","status":"passed","title":"should set appropriate security headers","duration":4.1784000000000106,"failureMessages":[],"location":{"line":370,"column":5},"meta":{}},{"ancestorTitles":["API Routes","Error Handling and Security"],"fullName":"API Routes Error Handling and Security should handle timeout scenarios gracefully","status":"passed","title":"should handle timeout scenarios gracefully","duration":105.5824,"failureMessages":[],"location":{"line":380,"column":5},"meta":{}}],"startTime":1767225380606,"endTime":1767225380887.5825,"status":"passed","message":"","name":"C:/Users/Preston/git/toa-website/test/routes.test.ts"}]}