# ============================================
# Tales of Aneria - Environment Configuration
# ============================================
# This file documents all environment variables needed for the application.
# Copy this file to .env and fill in your actual values.

# ============================================
# DEPLOYMENT ENVIRONMENT
# ============================================
# Controls app behavior and security settings
# Options: development, production
NODE_ENV=production

# ============================================
# SERVER CONFIGURATION
# ============================================
# Port for the Express server (Vercel will override this)
PORT=5000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL database connection string
# Example: postgresql://user:password@host:port/database?sslmode=require
# 
# For Vercel deployment, use:
# - Vercel Postgres (recommended): Automatically set by Vercel
# - Neon: Get from https://neon.tech
# - Supabase: Get from https://supabase.com
# - Railway: Get from https://railway.app
#
DATABASE_URL=postgresql://user:password@host:port/database

# ============================================
# SECURITY CONFIGURATION (OWASP Best Practices)
# ============================================
# CORS - Allowed Origins (Required for Production)
# Comma-separated list of allowed domains for CORS
# Include ALL domains where your app will be accessed (with and without www)
# 
# Examples:
# - Vercel: https://your-app.vercel.app,https://talesofaneria.com,https://www.talesofaneria.com
# - Custom domain: https://yourdomain.com,https://www.yourdomain.com
#
ALLOWED_ORIGINS=https://talesofaneria.com,https://www.talesofaneria.com,https://your-vercel-app.vercel.app

# Session Secret (Required for secure session management)
# Generate a strong random string (at least 32 characters)
# Use: openssl rand -base64 32
SESSION_SECRET=your-secure-random-session-secret-here

# ============================================
# YOUTUBE INTEGRATION
# ============================================
# YouTube Data API v3 - Get from Google Cloud Console
# https://console.cloud.google.com/apis/credentials
# 
# Steps:
# 1. Create a project in Google Cloud Console
# 2. Enable YouTube Data API v3
# 3. Create API credentials (API key)
# 4. Restrict the key to YouTube Data API v3
#
YOUTUBE_API_KEY=your_youtube_api_key_here

# YouTube Playlist ID (Frontend - Public)
# The ID of your main YouTube playlist
# Example: PLrmC8WonT9uaUoORXiAwGUo21Mp_N2u8v
# Find it in your YouTube playlist URL: youtube.com/playlist?list=PLAYLIST_ID
VITE_YOUTUBE_PLAYLIST_ID=your_playlist_id_here

# ============================================
# REPLIT YOUTUBE CONNECTOR (Optional - Replit Only)
# ============================================
# These are automatically set by Replit when using the YouTube connector
# DO NOT set these manually - they are provided by Replit's infrastructure
# For Vercel deployment, use YOUTUBE_API_KEY instead
#
# REPLIT_CONNECTORS_HOSTNAME=auto-set-by-replit
# REPL_IDENTITY=auto-set-by-replit
# WEB_REPL_RENEWAL=auto-set-by-replit

# ============================================
# PODCAST INTEGRATION
# ============================================
# RSS Feed URL for your podcast (Frontend - Public)
# Example: https://anchor.fm/s/your-podcast-id/podcast/rss
# Get from your podcast hosting platform (Anchor, Buzzsprout, etc.)
VITE_PODCAST_FEED_URL=https://your-podcast-rss-feed-url.com/rss

# ============================================
# ETSY INTEGRATION (Optional)
# ============================================
# Etsy API Credentials - Get from Etsy Developer Portal
# https://www.etsy.com/developers/documentation/getting_started/register
#
# Steps:
# 1. Register your app at https://www.etsy.com/developers/register
# 2. Get your API Key (Keystring)
# 3. Generate Access Token using OAuth 2.0
#
# Note: If you don't have Etsy integration, the app will work without it
# (shop section will show empty state)
#
ETSY_API_KEY=your_etsy_api_key_here
ETSY_ACCESS_TOKEN=your_etsy_access_token_here

# ============================================
# FRONTEND ENVIRONMENT VARIABLES
# ============================================
# These variables are prefixed with VITE_ and are exposed to the frontend
# They are embedded into the client-side JavaScript bundle
# DO NOT put sensitive information (API keys, secrets) in VITE_ variables
#
# Already documented above:
# - VITE_YOUTUBE_PLAYLIST_ID
# - VITE_PODCAST_FEED_URL

# ============================================
# VERCEL-SPECIFIC CONFIGURATION
# ============================================
# Vercel automatically sets these environment variables:
# - VERCEL=1
# - VERCEL_ENV=production|preview|development
# - VERCEL_URL=your-deployment-url.vercel.app
# - VERCEL_GIT_COMMIT_SHA=git-commit-hash
#
# You don't need to set these manually.

# ============================================
# DEPLOYMENT CHECKLIST FOR VERCEL
# ============================================
# 
# 1. REQUIRED Environment Variables:
#    - NODE_ENV=production
#    - DATABASE_URL=your-postgres-url
#    - ALLOWED_ORIGINS=https://your-domain.com
#    - SESSION_SECRET=random-secret-string
#    - YOUTUBE_API_KEY=your-youtube-key
#    - VITE_YOUTUBE_PLAYLIST_ID=your-playlist-id
#    - VITE_PODCAST_FEED_URL=your-podcast-rss
#
# 2. OPTIONAL Environment Variables:
#    - ETSY_API_KEY=your-etsy-key (if using Etsy integration)
#    - ETSY_ACCESS_TOKEN=your-etsy-token (if using Etsy integration)
#
# 3. Build Configuration:
#    - Build Command: npm run build
#    - Output Directory: dist
#    - Install Command: npm install
#
# 4. Custom Domain Setup:
#    - Add your custom domain in Vercel dashboard
#    - Update ALLOWED_ORIGINS to include your custom domain
#    - Configure DNS records (A/CNAME) to point to Vercel
#
# 5. Database Setup:
#    - Use Vercel Postgres (recommended) or external provider
#    - Run database migrations after deployment
#    - Ensure SSL is enabled for database connection
#
# ============================================
# SECURITY NOTES
# ============================================
# 
# - NEVER commit .env file to git (it's in .gitignore)
# - Rotate secrets regularly (every 90 days recommended)
# - Use different secrets for development and production
# - Enable 2FA on all service accounts (Google, Etsy, etc.)
# - Monitor API usage to detect unauthorized access
# - Set up API rate limits and quotas in provider dashboards
#
# ============================================
